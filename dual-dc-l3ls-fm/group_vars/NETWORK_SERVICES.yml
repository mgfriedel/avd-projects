---
### group_vars/NETWORK_SERVICES.yml

tenants:
  # Definition of tenants. Additional level of abstraction to VRFs
  - name: Prod
    # Number used to generate the VNI of each VLAN by adding the VLAN number in this tenant.
    mac_vrf_vni_base: 10000
    vrfs:
      # VRF definitions inside the tenant.
      - name: Prod1
        # VRF VNI definition.
        vrf_vni: 10
        # Enable VTEP Network diagnostics
        # This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.
        vtep_diagnostic:
          # Loopback interface number
          loopback: 10
          # Loopback ip range, a unique ip is derived from this ranged and assigned
          # to each l3 leaf based on it's unique id.
          loopback_ip_range: 10.255.12.0/27
        svis:
          # SVI definitions.
          - id: 101
            # SVI Description
            name: Prod1_101
            enabled: true
            # IP anycast gateway to be used in the SVI in every leaf.
            ip_address_virtual: 10.0.101.1/24
          - id: 102
            name: Prod1_102
            enabled: true
            ip_address_virtual: 10.0.102.1/24
      - name: Prod2
        vrf_vni: 11
        vtep_diagnostic:
          loopback: 11
          loopback_ip_range: 10.255.13.0/27
        svis:
          - id: 111
            name: Prod2_111
            enabled: true
            ip_address_virtual: 10.0.111.1/24
          - id: 112
            name: Prod2_112
            enabled: true
            ip_address_virtual: 10.0.112.1/24

  - name: HA
    # Number used to generate the VNI of each VLAN by adding the VLAN number in this tenant.
    mac_vrf_vni_base: 20000
    vrfs:
      # VRF definitions inside the tenant.
      - name: HA1
        # VRF VNI definition.
        vrf_vni: 20
        # Enable VTEP Network diagnostics
        # This will create a loopback with virtual source-nat enable to perform diagnostics from the switch.
        vtep_diagnostic:
          # Loopback interface number
          loopback: 20
          # Loopback ip range, a unique ip is derived from this ranged and assigned
          # to each l3 leaf based on it's unique id.
          loopback_ip_range: 10.255.14.0/27
        svis:
          # SVI definitions.
          - id: 201
            # SVI Description
            name: HA1_201
            enabled: true
            # IP anycast gateway to be used in the SVI in every leaf.
            ip_address_virtual: 10.0.101.1/24
          - id: 202
            name: HA1_202
            enabled: true
            ip_address_virtual: 10.0.102.1/24
      - name: HA2
        vrf_vni: 21
        vtep_diagnostic:
          loopback: 21
          loopback_ip_range: 10.255.15.0/27
        svis:
          - id: 211
            name: HA2_211
            enabled: true
            ip_address_virtual: 10.0.111.1/24
          - id: 212
            name: HA2_212
            enabled: true
            ip_address_virtual: 10.0.112.1/24

    l2vlans:
      # These are pure L2 vlans. They do not have a SVI defined in the l3leafs and they will be bridged inside the VXLAN fabric
      - id: 3401
        name: L2_VLAN3401
      - id: 3402
        name: L2_VLAN3402
